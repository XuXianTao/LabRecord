<div class="container login">
	<div class="row">
		<div class="col-md-4 col-md-offset-4">
			<form class="input-group" method="post">
				<input type="text" class="form-control" placeholder="请输入助教学号/教师职工号...">
				<span class="input-group-btn">
					<button class="btn btn-danger btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" type="button">登录</button>
					<div class="dropdown-menu">
						<button class="dropdown-item" name="lab_teacher" type="button">实验室仪器管理老师登录</a>
						<button class="dropdown-item" name="edu_teacher" type="button">上课老师登录</a>
						<button class="dropdown-item" name="ta" type="button">助理登录</a>
					</div>
				</span>
			</form>
			<div class="alert alert-danger alert-exist" role="alert" style="display:none">
			  <strong>错误：</strong> <span class="alert-link">学号/职工号不能为空</span>
			</div>
			<div class="alert alert-danger alert-id" role="alert" style="display:none">
			  <strong>错误：</strong> <span class="alert-link">学号/职工号不存在</span>
			</div>
		</div>
	</div>
</div>

<script>
  $(document).ready(function() {
	  $('.dropdown-item').click(function() {
		  $(".alert-exist").css('display','none');
	  	var who = this.name;
	  	//学号为空
		  if ($("input").val()=="") {
	    	$(".alert-id").css('display','none');
		    $(".alert-exist").css('display','block');
		    return ;
		  }
		  //判断是否有该学号
		  $(".alert-exist").css('display','none');
	    $.post({
	    	url:'{:Url("check_admin")}',
	    	data: {'admin_id':$("input").val(), 'who':who},
	    	success:function(data) {
	    		console.log(data);
	    		switch(data){
	    			case '学号不存在':
	    			  $(".alert-id").css('display','block');
	    			  break;
	    			default:
	    			  $(".alert-exist").css('display','none');
	    			  $(".alert-id").css('display','none');
	    			  switch (data) {
	    			  	case 'Home/homeTa':
	    			  	window.location.href="{:Url('Home/homeTa')}";
	    			  	break;
	    			  	case 'Home/homeLabTeacher':
	    			  	window.location.href="{:Url('Home/homeLabTeacher')}";
	    			  	break;
	    			  	case 'Home/homeEduTeacher':
	    			  	window.location.href="{:Url('Home/homeEduTeacher')}";
	    			  	break;
	    			  	default:break;
	    			  }
	    		}
	    	},
	    	error:function() {
	    		console.log('error');
	    	}
	    })
	  }
	  )

  }
  )
</script>